<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Frankenstein</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="app.webmanifest">
    <meta name="theme-color" content="#2d2622">
</head>
<body class="theme-light">
    <div id="app-container">
        <header id="app-header">
            <h1 id="main-title">Frankenstein</h1>
            <div id="settings-controls">
                <!-- Botón de Índice / Mapa -->
                <button id="nav-toggle" aria-label="Índice de Lectura">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg>
                </button>
                
                <button id="fullscreen-btn" aria-label="Pantalla Completa">
                    <svg class="icon-fullscreen" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 2h-2v3h-3v2h5v-5zm-3-2V7h-2V5h5v5h-3z"/></svg>
                </button>
                
                <button id="settings-toggle" aria-label="Ajustes">
                    <svg class="icon-settings" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.4 12.5c0-.2.1-.4.1-.6s0-.4-.1-.6l2.1-1.7c.2-.1.2-.4.1-.6l-2-3.5c-.1-.2-.4-.3-.6-.2l-2.5 1c-.5-.4-1-.7-1.6-.9l-.4-2.7c0-.2-.2-.4-.4-.4h-4c-.2 0-.4.2-.4.4l-.4 2.7c-.6.2-1.1.5-1.6.9l-2.5-1c-.2-.1-.5 0-.6.2l-2 3.5c-.1.2 0 .5.1.6l2.1 1.7c-.1.2-.1.4-.1.6s0 .4.1.6l-2.1 1.7c-.2.1-.2.4-.1.6l2 3.5c.1.2.4.3.6.2l2.5-1c.5.4 1 .7 1.6.9l.4 2.7c0 .2.2.4.4.4h4c.2 0 .4-.2.4-.4l.4-2.7c.6-.2 1.1-.5 1.6-.9l2.5 1c.2.1.5 0 .6-.2l2-3.5c.1-.2 0-.5-.1-.6l-2.1-1.7zm-7.4 2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"/></svg>
                </button>
                
                <!-- Menú desplegable de ajustes -->
                <div id="settings-menu">
                    <button id="increase-font" aria-label="Aumentar tamaño de letra">A+</button>
                    <button id="decrease-font" aria-label="Disminuir tamaño de letra">A-</button>
                    <button id="theme-selector" aria-label="Cambiar tema">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-theme-light" style="display: block;"><path d="M12 9c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM4 11H1v2h3v-2zm19 0h-3v2h3v-2zM13 1h-2v3h2V1zm-2 19h2v3h-2v-3zM6.34 6.34L4.22 4.22l-1.41 1.41 2.12 2.12 1.41-1.41zm11.32 11.32l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zM6.34 17.66l-2.12 2.12 1.41 1.41 2.12-2.12-1.41-1.41z"/></svg>
                    </button>
                    <button id="mute-btn" aria-label="Silenciar Audio">
                        <svg class="unmuted" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                        <svg class="muted" style="display: none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/></svg>
                    </button>
                </div>
            </div>
        </header>
        
        <main id="book-container">
            <div id="book">
                <div id="page-wrapper"></div>
            </div>
        </main>

        <footer id="app-footer">
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
        </footer>

        <!-- MODAL DE NAVEGACIÓN (EL ÍNDICE) -->
        <div id="nav-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Tu Viaje</h2>
                    <button id="nav-close">✕</button>
                </div>
                <div class="modal-body">
                    <button id="restart-btn" class="danger-btn">⟲ Reiniciar Historia</button>
                    <div class="history-list-container">
                        <h3>Pasos Recientes</h3>
                        <ul id="history-list">
                            <!-- JavaScript llenará esto -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="main.js"></script>
</body>
</html>
